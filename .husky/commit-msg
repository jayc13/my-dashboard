#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ“ Validating commit message format..."

# Run commitlint to validate the commit message
npx --no-install commitlint --edit "$1"

if [ $? -eq 0 ]; then
  echo "âœ… Commit message format is valid!"
else
  echo "âŒ Commit message format is invalid!"
  echo ""
  echo "Please follow the conventional commit format:"
  echo "  <type>(<scope>): <subject>"
  echo ""
  echo "Examples:"
  echo "  feat: add user authentication"
  echo "  fix(client): resolve login button styling"
  echo "  docs: update API documentation"
  echo ""
  echo "Valid types: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert"
  exit 1
fi
