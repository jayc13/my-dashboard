get:
  tags:
    - JIRA
  summary: Get JIRA issues using JQL query
  description: |
    Fetch JIRA issues using a JQL (JIRA Query Language) query. This endpoint allows you to search for issues using JIRA's powerful query syntax.
    
    **Examples of JQL queries:**
    - `project = "My Project" AND status = "In Progress"`
    - `assignee = currentUser() AND resolution = Unresolved`
    - `labels in ("bug", "critical") ORDER BY created DESC`
    - `created >= -7d AND project = "ACT"`
    
    **Note:** The JQL query must be URL-encoded when passed as a query parameter.
  parameters:
    - name: jql
      in: query
      required: true
      description: |
        JQL (JIRA Query Language) query string to filter issues.
        Must be URL-encoded. See JIRA documentation for JQL syntax.
      schema:
        type: string
        example: "project = \"Agent Client Tools\" AND status != \"Done\""
  responses:
    '200':
      description: Successfully retrieved JIRA issues
      content:
        application/json:
          schema:
            $ref: '../schemas/JiraIssuesResponse.yaml'
          examples:
            success:
              summary: Successful response with issues
              value:
                total: 2
                issues:
                  - id: "10001"
                    key: "ACT-456"
                    url: "https://company.atlassian.net/browse/ACT-456"
                    summary: "Fix login authentication bug"
                    status: "In Progress"
                    created: "2024-01-15T10:30:00.000Z"
                    updated: "2024-01-16T14:45:00.000Z"
                    assignee: "John Doe"
                    reporter: "Jane Smith"
                    labels: ["bug", "high-priority"]
                    priority: "High"
                  - id: "10002"
                    key: "ACT-457"
                    url: "https://company.atlassian.net/browse/ACT-457"
                    summary: "Update user interface"
                    status: "To Do"
                    created: "2024-01-14T09:15:00.000Z"
                    updated: "2024-01-14T09:15:00.000Z"
                    assignee: "Unassigned"
                    reporter: "Bob Wilson"
                    labels: ["enhancement"]
                    priority: "Medium"
    '400':
      description: Bad request - JQL query is required
      content:
        application/json:
          schema:
            $ref: '../schemas/ErrorResponse.yaml'
          examples:
            missing_jql:
              summary: Missing JQL query parameter
              value:
                error: "JQL query is required"
    '401':
      description: Unauthorized - Invalid or missing API key
      content:
        application/json:
          schema:
            $ref: '../schemas/ErrorResponse.yaml'
    '500':
      description: Internal server error - JIRA API connection or processing error
      content:
        application/json:
          schema:
            $ref: '../schemas/ErrorResponse.yaml'
          examples:
            jira_error:
              summary: JIRA API connection error
              value:
                error: "Failed to fetch issues from JIRA"
  security:
    - ApiKeyAuth: []
